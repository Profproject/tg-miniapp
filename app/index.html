<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Subscribo</title>

  <link rel="stylesheet" href="/static/style.css?v=2" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body>
  <!-- Ambient layers -->
  <div class="bg">
    <div class="bg__grid"></div>
    <div class="bg__glow bg__glow--a"></div>
    <div class="bg__glow bg__glow--b"></div>
    <div class="bg__glow bg__glow--c"></div>
    <div class="bg__noise"></div>
  </div>

  <canvas id="fx"></canvas>

  <div class="app">

    <!-- Top -->
    <header class="top glass">
      <div class="brand">
        <div class="mark" aria-hidden="true">
          <div class="mark__core"></div>
          <div class="mark__ring"></div>
          <div class="mark__spark"></div>
        </div>

        <div class="bt">
          <div class="name">
            <span class="name__a">Subscribo</span>
            <span class="name__b">Engine</span>
          </div>
          <div class="tag">White-Label Telegram Subscription & Access Control</div>
        </div>
      </div>

      <nav class="tabs" aria-label="Navigation">
        <button class="tab active" data-view="dash">
          <span class="tab__ic">◆</span><span>Dashboard</span>
        </button>
        <button class="tab" data-view="features">
          <span class="tab__ic">◈</span><span>Features</span>
        </button>
        <button class="tab" data-view="pricing">
          <span class="tab__ic">▣</span><span>Pricing</span>
        </button>
        <button class="tab" data-view="admin">
          <span class="tab__ic">⬡</span><span>Admin</span>
        </button>
      </nav>
    </header>

    <!-- Content -->
    <main class="content glass">
      <!-- DASH -->
      <section class="view active" id="view-dash">
        <div class="hero">
          <div class="hero__title">
            <div class="pill">
              <span class="pill__dot"></span>
              <span class="pill__text">Live demo • CryptoPay ready</span>
            </div>
            <h1 class="h1">
              Neon-grade subscription gate<br />
              for Telegram channels & bots
            </h1>
            <p class="sub">
              Create invoices, auto-activate plans, and manage access with a clean admin panel.
              Built to be sold as a white-label asset.
            </p>
          </div>

          <div class="hero__cta">
            <button class="btn primary btn--xl" id="btnBuyPro">
              <span class="btn__shine"></span>
              <span class="btn__txt">Pay PRO</span>
              <span class="btn__meta">instant unlock</span>
            </button>
            <button class="btn btn--xl" id="btnRefresh">
              <span class="btn__txt">Refresh</span>
              <span class="btn__meta">sync status</span>
            </button>
          </div>
        </div>

        <div class="grid">
          <!-- Access card -->
          <div class="card card--deep tilt">
            <div class="card__top">
              <div class="ct">Your Access</div>
              <div class="chip" id="chipPlan">FREE</div>
            </div>

            <div class="kv">
              <div class="k">User</div><div class="v mono" id="uid">—</div>
              <div class="k">Plan</div><div class="v" id="plan">—</div>
              <div class="k">Status</div><div class="v" id="status">Loading…</div>
              <div class="k">Expires</div><div class="v mono" id="exp">—</div>
            </div>

            <div class="row">
              <button class="btn primary" id="btnPayPro2">
                <span class="btn__shine"></span>
                <span class="btn__txt">Pay PRO</span>
              </button>
              <button class="btn" id="btnPayVip">
                <span class="btn__txt">Pay VIP</span>
              </button>
              <button class="btn" id="btnFree">
                <span class="btn__txt">Use FREE</span>
              </button>
            </div>

            <div class="hint">
              PRO/VIP создаёт инвойс CryptoPay и открывает оплату. После оплаты план активируется автоматически.
            </div>
          </div>

          <!-- Metrics card -->
          <div class="card card--deep tilt">
            <div class="card__top">
              <div class="ct">Live Metrics</div>
              <div class="chip chip--lime">Realtime</div>
            </div>

            <div class="metrics">
              <div class="m">
                <div class="ml">Total users</div>
                <div class="mv" id="mTotal">—</div>
              </div>
              <div class="m">
                <div class="ml">PRO</div>
                <div class="mv" id="mPro">—</div>
              </div>
              <div class="m">
                <div class="ml">VIP</div>
                <div class="mv" id="mVip">—</div>
              </div>
            </div>

            <div class="row">
              <button class="btn" id="btnDemoPro"><span class="btn__txt">Demo PRO</span></button>
              <button class="btn" id="btnDemoVip"><span class="btn__txt">Demo VIP</span></button>
            </div>

            <div class="hint">
              Demo кнопки включают план без оплаты — удобно показать “как будет после покупки”.
            </div>
          </div>
        </div>
      </section>

      <!-- FEATURES -->
      <section class="view" id="view-features">
        <div class="card wide tilt card--deep">
          <div class="ct">Locked Features Demo</div>
          <div class="hint">Нажимай — без PRO/VIP будет “Locked”, с PRO/VIP — “Unlocked”.</div>

          <div class="fgrid">
            <button class="feat" data-need="PRO">
              <div class="ftop">
                <span class="badge">PRO</span>
                <span class="fname">Access Rules</span>
              </div>
              <div class="fdesc">Auto-grant/revoke based on plan & expiry</div>
            </button>

            <button class="feat" data-need="PRO">
              <div class="ftop">
                <span class="badge">PRO</span>
                <span class="fname">Analytics</span>
              </div>
              <div class="fdesc">Cohorts, conversion, simple funnel</div>
            </button>

            <button class="feat" data-need="VIP">
              <div class="ftop">
                <span class="badge vip">VIP</span>
                <span class="fname">Multi-Workspace</span>
              </div>
              <div class="fdesc">White-label for multiple channel owners</div>
            </button>

            <button class="feat" data-need="VIP">
              <div class="ftop">
                <span class="badge vip">VIP</span>
                <span class="fname">API & Webhooks</span>
              </div>
              <div class="fdesc">Integrate with bots / CRM / external tools</div>
            </button>
          </div>

          <div class="hint" style="margin-top:14px">
            Это demo-витрина для покупателя. Реальные “премиум-фичи” можно добавлять поверх, не ломая основу оплаты.
          </div>
        </div>
      </section>

      <!-- PRICING -->
      <section class="view" id="view-pricing">
        <div class="card wide tilt card--deep">
          <div class="ct">Pricing</div>

          <div class="pgrid">
            <div class="pc">
              <div class="pn">FREE</div>
              <div class="pp">$0</div>
              <ul>
                <li>Basic gate</li>
                <li>Locked features demo</li>
                <li>No automation</li>
              </ul>
              <button class="btn" id="btnFree2"><span class="btn__txt">Use FREE</span></button>
            </div>

            <div class="pc glow">
              <div class="pn">PRO</div>
              <div class="pp">$19</div>
              <ul>
                <li>Unlock PRO features</li>
                <li>Automation demo</li>
                <li>Basic metrics</li>
              </ul>
              <button class="btn primary" id="btnPayPro3">
                <span class="btn__shine"></span>
                <span class="btn__txt">Pay PRO</span>
              </button>
            </div>

            <div class="pc">
              <div class="pn">VIP</div>
              <div class="pp">$49</div>
              <ul>
                <li>White-label toolkit</li>
                <li>Advanced controls</li>
                <li>Integrations</li>
              </ul>
              <button class="btn primary" id="btnPayVip2">
                <span class="btn__shine"></span>
                <span class="btn__txt">Pay VIP</span>
              </button>
            </div>
          </div>

          <div class="hint" style="margin-top:14px">
            Цены — демо. Меняются в <span class="mono">plan_price()</span> в <span class="mono">main.py</span>.
          </div>
        </div>
      </section>

      <!-- ADMIN -->
      <section class="view" id="view-admin">
        <div class="card wide tilt card--deep">
          <div class="ct">Admin Panel</div>
          <div class="hint">
            Admin key хранится в Render ENV: <span class="mono">ADMIN_KEY</span>.
            В запросах он идёт заголовком <span class="mono">x-admin-key</span>.
          </div>

          <div class="agrid">
            <input class="input" id="adminKey" placeholder="Admin key" />
            <input class="input" id="adminUser" placeholder="User id" />
            <input class="input" id="adminDays" placeholder="Days (optional)" />
            <button class="btn" id="aFree"><span class="btn__txt">Set FREE</span></button>
            <button class="btn primary" id="aPro"><span class="btn__shine"></span><span class="btn__txt">Set PRO</span></button>
            <button class="btn primary" id="aVip"><span class="btn__shine"></span><span class="btn__txt">Set VIP</span></button>
          </div>

          <div class="log" id="log"></div>
        </div>
      </section>

    </main>

    <!-- Modal -->
    <div class="modal" id="modal">
      <div class="mcard glass tilt">
        <div class="mt" id="mt">Title</div>
        <div class="mx" id="mx">Text</div>
        <div class="row">
          <button class="btn primary" id="mUpgrade">
            <span class="btn__shine"></span>
            <span class="btn__txt">Pay PRO</span>
          </button>
          <button class="btn" id="mClose"><span class="btn__txt">Close</span></button>
        </div>
      </div>
    </div>

  </div>

  <script src="/static/script.js?v=2"></script>
</body>
</html>
